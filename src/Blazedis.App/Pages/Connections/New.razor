@page "/connections/new"
@inherits NewBase

<MudContainer Class="my-8 px-8" MaxWidth="MaxWidth.False">
    <MudText Typo="Typo.h5">New Connection</MudText>

    <MudForm @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">

        <MudGrid>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="formHost" Label="Host" Placeholder="127.0.0.1" />
            </MudItem>

            <MudItem xs="12" sm="6">
                <MudTextField T="int?" @bind-Value="formPort" Label="Port" Placeholder="6379" />
            </MudItem>

            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="formName" Label="Name" Placeholder="@Name" />
            </MudItem>

            <MudItem xs="12">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" DisableElevation="true" OnClick="SaveAsync" Disabled="isOnSaving">
                    @if (isOnSaving)
                    {
                        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                    }

                    <MudText>Save</MudText>
                </MudButton>
            </MudItem>

        </MudGrid>
    </MudForm>
</MudContainer>